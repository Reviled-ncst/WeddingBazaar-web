<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Test</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; }
        .log { background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 5px; font-family: monospace; white-space: pre-wrap; }
        button { padding: 10px 20px; margin: 10px 0; background: #007cba; color: white; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>üî• Firebase Configuration Test</h1>
    <button onclick="testFirebaseConfig()">Test Firebase Configuration</button>
    <div id="log" class="log">Ready to test Firebase...</div>

    <script type="module">
        const log = document.getElementById('log');
        
        function addLog(msg) {
            log.textContent += new Date().toLocaleTimeString() + ' - ' + msg + '\n';
        }

        window.testFirebaseConfig = async () => {
            addLog('üîç Testing Firebase configuration...');
            
            try {
                // Check environment variables that should be available
                const config = {
                    apiKey: 'AIzaSyBrrGVT9tyka4l2Jsph0VJVmjw5OmLXqI0',
                    authDomain: 'weddingbazaarph.firebaseapp.com',
                    projectId: 'weddingbazaarph',
                    appId: '1:543533138006:web:74fb6ac8ebab6c11f3fbf7'
                };

                addLog('üìã Firebase config:');
                addLog(JSON.stringify(config, null, 2));

                // Try to load Firebase (this won't work without the actual Firebase modules)
                addLog('üî• Firebase modules would be loaded here in the real app');
                addLog('‚úÖ Configuration appears valid');
                
                // Test if the API key is accessible
                const testUrl = `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${config.apiKey}`;
                addLog(`üåê Testing Firebase Auth endpoint: ${testUrl}`);
                
                const response = await fetch(testUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        email: 'test@example.com',
                        password: 'test123456',
                        returnSecureToken: true
                    })
                });

                addLog(`üì® Firebase API response: ${response.status} ${response.statusText}`);
                
                if (response.status === 400) {
                    const errorData = await response.json();
                    if (errorData.error.message === 'EMAIL_EXISTS') {
                        addLog('‚úÖ Firebase API is accessible and working (email already exists)');
                    } else {
                        addLog(`‚ö†Ô∏è Firebase API error: ${errorData.error.message}`);
                    }
                } else if (response.ok) {
                    addLog('‚úÖ Firebase API is accessible and working');
                } else {
                    addLog(`‚ùå Firebase API issue: ${response.status}`);
                }

            } catch (error) {
                addLog(`‚ùå Firebase test failed: ${error.message}`);
            }
        };
    </script>
</body>
</html>
