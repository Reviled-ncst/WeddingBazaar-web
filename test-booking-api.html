<!DOCTYPE html>
<html>
<head>
    <title>Booking API Test</title>
</head>
<body>
    <h1>Booking API Test</h1>
    <div id="results"></div>
    <script>
    async function testBookingAPI() {
        const results = document.getElementById('results');
        results.innerHTML = '<p>Testing booking API...</p>';
        
        const bookingData = {
            vendor_id: "2-2025-003",
            service_id: "SRV-8305", 
            service_type: "cake_designer",
            service_name: "Test Cake Service",
            event_date: "2025-06-15",
            couple_id: "1-2025-001",
            contact_phone: "123123123123"
        };
        
        try {
            console.log('Sending booking data:', bookingData);
            
            const response = await fetch('https://weddingbazaar-web.onrender.com/api/bookings', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(bookingData)
            });
            
            console.log('Response status:', response.status);
            
            if (response.ok) {
                const data = await response.json();
                console.log('Success data:', data);
                results.innerHTML = `<p style="color: green;">✅ Success: ${JSON.stringify(data, null, 2)}</p>`;
            } else {
                const errorText = await response.text();
                console.log('Error response:', errorText);
                results.innerHTML = `<p style="color: red;">❌ Error ${response.status}: ${errorText}</p>`;
            }
        } catch (error) {
            console.error('Network error:', error);
            results.innerHTML = `<p style="color: red;">❌ Network Error: ${error.message}</p>`;
        }
    }
    
    // Run test automatically
    testBookingAPI();
    </script>
</body>
</html>
